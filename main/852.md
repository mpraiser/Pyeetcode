## 左差分 or 右差分？

对于给定数组`x`，求元素的差分，有两种方案：

- 右差分：`rd[i] = x[i+1] - x[i]`
- 左差分：`ld[i] = x[i] - x[i-1]`

两种方案看似都是可行的，但是选哪个更加合适？

两者的计算形式大约如：

- 右差分：

`i` | 0 | 1 | 2 | 3 | 4
:-: | :-: | :-: | :-: | :-: | :-:
`x[i]` | 1 | 4 | 9 | 16 | 25
`x[i+1]` | 4 | 9 | 16 | 25 | /
`rd[i]` | 3 | 5 | 7 | 9 | /

- 左差分：

`i` | 0 | 1 | 2 | 3 | 4
:-: | :-: | :-: | :-: | :-: | :-:
`x[i]` | 1 | 4 | 9 | 16 | 25
`x[i-1]` | / | 1 | 4 | 9 | 16
`ld[i]` | / | 3 | 5 | 7 | 9

可以看到：

1. 差分序列长度总是比原序列短`1`
2. 两者的差别主要在边界`i = 0`和`i = len(x) - 1`处，对于左差分，`x[-1]`是无定义的；对于右差分，`x[len(x)]`是无定义的。

如果不在意右端点，那么选取右差分合适。一般来说，我们对左端点总是在意的；如果能另行添加边界条件，也可以选取左差分。

## binary search

- 搜索区间
- 搜索目标
- 退出条件
- 迭代方式

用递归的形式描述二分搜索会更加容易理解，因为核心在于“折半区间上的搜索与区间上做的一致”，直到到达边界。

> 看看 Knuth 大佬（发明 KMP 算法的那位）怎么说的：
>
> Although the basic idea of binary search is comparatively straightforward, the details can be surprisingly tricky...

